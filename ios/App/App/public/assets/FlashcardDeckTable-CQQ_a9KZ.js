import{u as b,a as w,j as e}from"./index-fqoWOEOd.js";function D(){const p=b(),{decks:x}=w(),m=Array.isArray(x)?x:[],f=t=>{const n=Array.isArray(t.quiz)?t.quiz.length:0;let a=0,s=0;for(let r=0;r<n;r++){const i=localStorage.getItem(`quiz-${t.id}-${r}-best`);if(i)try{const l=JSON.parse(i);typeof l.percent=="number"&&(a++,s+=l.percent)}catch{}}const c=a>0?Math.round(s/a):0;return{attempted:a,qsLen:n,avgScore:c}},h={gridTemplateColumns:"3fr 5fr repeat(3, minmax(4rem, 1fr)) minmax(8rem, 1fr)"};return e.jsxs("div",{className:"w-full mx-auto p-6 overflow-y-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4 text-black",children:"Study Decks"}),e.jsxs("div",{className:"grid text-sm font-medium text-gray-500 mb-2 px-10 items-center",style:h,children:[e.jsx("div",{className:"truncate",children:"Deck Name"}),e.jsx("div",{className:"text-center",children:"Flashcard Progress"}),e.jsx("div",{className:"text-center",children:"Total"}),e.jsx("div",{className:"text-center",children:"Learned"}),e.jsx("div",{className:"text-right",children:"Due"}),e.jsx("div",{className:"text-right",children:"Quizzes"})]}),e.jsx("div",{className:"space-y-2",children:m.length===0?e.jsx("p",{className:"text-center py-10 text-gray-500",children:"No decks available. Click the + icon on the left to get started."}):m.map(t=>{const{id:n,name:a}=t,s=t.cards.length,c=t.cards.filter(o=>o.point>5).length,r=t.cards.filter(o=>new Date(o.nextReview).getTime()<=Date.now()).length,i=s>0?c/s*100:0,{attempted:l,qsLen:g,avgScore:u}=f(t),j=g>0?Math.round(l/g*100):0,[d,...v]=a.trim().split(" "),N=d.length===2||new RegExp("\\p{Emoji}","u").test(d)?d:"ðŸ“š",y=v.join(" ")||a;return e.jsxs("div",{className:"grid items-center gap-x-4 bg-white px-4 py-2 rounded-xl shadow hover:shadow-lg transition cursor-pointer",style:h,onClick:()=>p(`/deck/${n}`),children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-800 truncate",children:[e.jsx("span",{className:"text-2xl",children:N}),e.jsx("span",{className:"font-semibold truncate",children:y})]}),e.jsx("div",{className:"flex justify-end w-full px-2 ",children:e.jsx("div",{className:"w-[50%] h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2 bg-teal-400",style:{width:`${i}%`}})})}),e.jsx("div",{className:"text-center text-gray-800 font-medium pl-8",children:s}),e.jsx("div",{className:`text-center font-semibold  ${c===0?"text-gray-500":c===s?"text-red-500":"text-green-600"}`,children:s-r}),e.jsx("div",{className:"text-right text-pink-500 font-semibold pr-2",children:r}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:`inline-flex flex-col items-end px-3 py-2 border rounded-lg text-xs font-medium ${u<60?"border-orange-400 text-orange-600":"border-green-400 text-green-600"}`,children:[e.jsx("span",{children:`${j}% attempted`}),e.jsx("span",{className:"text-xs font-normal",children:`${u}% avg. score`})]})})]},n)})})]})}export{D as default};
